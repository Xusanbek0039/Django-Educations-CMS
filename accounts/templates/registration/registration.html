{% extends 'base.html' %}
{% load widget_tweaks %}

{% block title %}
  Signup
{% endblock %}

{% block content %}
  <div class="row align-items-center" style="height: 75vh">
    <div class="col-md-8 offset-md-2">

      <div class="card shadow">
        <div class="card-body">
          <h2 class="card-title text-center text-secondary">Register</h2>
          <hr>
          <div class="mt-3">
            <form method="post">
              <div class="row">
                <div class="col-md-8 offset-md-2">

                  <ul>
                    {% for non_field_error in form.non_field_errors %}
                      <li class="text-danger">{{ non_field_error }}</li>
                    {% endfor %}
                  </ul>
                  {% for hidden_field in form.hidden_fields %}
                    {{ hidden_field.errors }}
                    {{ hidden_field }}
                  {% endfor %}

                  <div class="form-floating mb-3">
                    {% render_field form.email|add_class:'form-control'|attr:'autofocus' placeholder=form.email.label %}
                    <label for="{{ form.email.id_for_label }}">{{ form.email.label }}</label>

                    {% if form.email.help_text %}
                      <div class="form-text">{{ form.email.help_text }}</div>
                    {% endif %}

                    {% for error in form.email.errors %}
                      <div class="invalid-feedback d-block text-end">{{ error }}</div>
                    {% endfor %}
                  </div>

                  <div class="form-floating mb-3">
                    {% render_field form.password1|add_class:'form-control' placeholder=form.password1.label %}
                    <label for="{{ form.password1.id_for_label }}">{{ form.password1.label }}</label>

                    {% if form.password1.help_text %}
                      <div class="form-text">{{ form.password1.help_text }}</div>
                    {% endif %}

                    {% for error in form.password1.errors %}
                      <div class="invalid-feedback d-block text-end">{{ error }}</div>
                    {% endfor %}
                  </div>

                  <div class="form-floating mb-3">

                    {% render_field form.password2|add_class:'form-control' placeholder=form.password2.label %}
                    <label for="{{ form.password2.id_for_label }}">{{ form.password2.label }}</label>

                    {% if form.password2.help_text %}
                      <div class="form-text">{{ form.password2.help_text }}</div>
                    {% endif %}

                    {% for error in form.password2.errors %}
                      <div class="invalid-feedback d-block text-end">{{ error }}</div>
                    {% endfor %}
                  </div>

                  <div class="form-check mb-3">
                    {{ form.is_instructor|add_class:'form-check-input' }}
                    <label for="{{ form.is_instructor.id_for_label }}"
                           class="form-check-label"> {{ form.is_instructor.label }}</label>

                    {% if form.is_instructor.help_text %}
                      <div class="form-text">{{ form.is_instructor.help_text }}</div>
                    {% endif %}

                    {% for error in form.is_instructor.errors %}
                      <div class="invalid-feedback d-block text-end">{{ error }}</div>
                    {% endfor %}
                  </div>

                  {% csrf_token %}
                  <input type="hidden" name="next" value="{{ next }}">

                  <div class="mb-3">
                    <button type="submit" class="btn btn-info text-light">Create Account</button>
                  </div>
                </div>
              </div>

            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}